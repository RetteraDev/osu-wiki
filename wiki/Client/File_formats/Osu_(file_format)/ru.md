# .osu (формат файла)

**`.osu`** — это формат файла, содержащий информацию о карте osu!.

## Структура

Первая строка файла указывает версию формата файла. Текущая версия формата - `osu file format v14`.

Последующие настройки разбиты по нескольким разделам, обозначаемых квадратными скобками.

| Название раздела | Тип данных | Описание |
| :-- | :-- | :-- |
| `[General]` | Пары `ключ: значение` | Общая информация о карте |
| `[Editor]` | Пары `ключ: значение` | Информация для редактора |
| `[Metadata]` | Пары `ключ:значение` | [Метаданные](/wiki/Client/Beatmap_editor/Song_Setup#song-and-map-meta-data) о карте и песне |
| `[Difficulty]` | Пары `ключ:значение` | Настройки [сложности](/wiki/Client/Beatmap_editor/Song_Setup#сложность) |
| `[Events]` | Список значений, разделенных запятыми | Информация для [сторибордов](/wiki/Storyboard) |
| `[TimingPoints]` | Список значений, разделенных запятыми | Информация о [тайминге](/wiki/Beatmapping/Beats_per_minute#timing-points) и [хитсаундах](/wiki/Beatmapping/Hitsound) |
| `[Colours]` | Пары `ключ : значение` | Информация о [цвете нот и комбо](/wiki/Glossary/Combo_colour) |
| `[HitObjects]` | Список значений, разделенных запятыми | Информация об [игровых объектах](/wiki/Hit_object) |

## [General]

<!-- TODO: this is missing some functional options that are leftover from very old file formats -->

| Настройка | Тип данных | Описание | Значение по умолчанию |
| :-- | :-- | :-- | :-- |
| `AudioFilename` | Строка | Расположение песни относительно текущей папки | |
| `AudioLeadIn` | Целое число | Количество времени в миллисекундах, с которого начнётся воспроизведения звука на карте | `0` |
| `AudioHash` | Строка | *Устаревший* |  |
| `PreviewTime` | Целое число | Количество времени в миллисекундах, с которого аудио должно проигрываться на [экране выбора песни](/wiki/Client/Interface#экран-выбора-песни) | `-1` |
| `Countdown` | Целое число | Скорость [обратного отсчета](/wiki/Beatmapping/Countdown) до первого попадания в объект (`0` = нет обратного отсчета, `1` = обычная, `2` = замедленная в 2 раза, `3` = ускоренная в 2 раза) | `1` |
| `SampleSet` | Строка | Указывает используемый набор хитсаундов (`Normal`, `Soft`, `Drum`) | `Normal` |
| `StackLeniency` | Вещественное число | Множитель времени, при котором близко расположенные игровые объекты образуют [стаки](/wiki/Mapping_techniques/Stack) | `0.7` |
| `Mode` | Целое число | Игровой режим (`0` = osu!, `1` = osu!taiko, `2` = osu!catch, `3` = osu!mania) | `0` |
| `LetterboxInBreaks` | 0 или 1 | Указывает, будет ли применяться леттербоксинг во время перерывов | `0` |
| `StoryFireInFront` | 0 или 1 | *Устаревший* | `1` |
| `UseSkinSprites` | 0 или 1 | Указывает, возможно ли использование в сторибордах изображений из [скина](/wiki/Skin) игрока | `0` |
| `AlwaysShowPlayfield` | 0 или 1 | *Устаревший* | `0` |
| `OverlayPosition` | Строка | Порядок отрисовки оверлеев кругов по сравнению с [номерами попаданий](/wiki/Skinning/Interface#countdown) (`NoChange` = использовать настройку скина, `Below` = рисовать оверлеи под номерами, `Above` = рисовать оверлеи поверх номеров) | `NoChange` |
| `SkinPreference` | Строка | Предпочтительный [скин](/wiki/Skin) для использования во время игры | |
| `EpilepsyWarning` | 0 или 1 | Показывать ли предупреждение об эпилепсии в начале карты | `0` |
| `CountdownOffset` | Целое число | Скорость обратного отсчета в [битах](/wiki/Beat) до первого попадания в объект | `0` |
| `SpecialStyle` | 0 или 1 | Использовать ли раскладку клавиш в стиле «N+1» для osu!mania | `0` |
| `WidescreenStoryboard` | 0 или 1 | Поддерживает ли сториборд широкоэкранный режим | `0` |
| `SamplesMatchPlaybackRate` | 0 или 1 | Будет ли изменяться скорость музыкальных сэмплов при игре с [модами](/wiki/Game_modifier) изменяющими скорость | `0` |

## [Editor]

Эти настройки используются только при открытии карт в [редакторе](/wiki/Client/Beatmap_editor). Они не влияют на игровой процесс.

| Настройка | Тип данных | Описание |
| :-- | :-- | :-- |
| `Bookmarks` | Список целых чисел, разделенных запятыми | Время [закладки](/wiki/Client/Beatmap_editor/Compose#bottom-(song's-timeline) в миллисекундах |
| `DistanceSpacing` | Вещественное число | Множитель для [Distance snap](/wiki/Client/Beatmap_editor/Distance_snap) |
| `BeatDivisor` | Вещественное число | Значение [шага временной шкалы](/wiki/Client/Beatmap_editor/Beat_Snap_Divisor) |
| `GridSize` | Целое число | Размер сетки для [Grid snap](/wiki/Grid_snapping) |
| `TimelineZoom` | Вещественное число | Множитель масштаба размера [временной шкалы](/wiki/Client/Beatmap_editor/Timelines) |

## [Metadata]

| Настройка | Тип данных | Описание |
| :-- | :-- | :-- |
| `Title` | Строка | Название песни (только ASCII) |
| `TitleUnicode` | Строка | Название песни. Если отсутствует, используется `Title` |
| `Artist` | Строка | Исполнитель (только ASCII) |
| `ArtistUnicode` | Строка | Исполнитель. Если отсутствует, используется `Artist` |
| `Creator` | Строка | Создатель карты |
| `Version` | Строка | Название сложности |
| `Source` | Строка | Источник песни |
| `Tags` | Список строк, разделенных пробелом | [Теги](/wiki/BBCode#теги), описывающие песню и помогающие при поиске |
| `BeatmapID` | Целое число | Идентификатор карты |
| `BeatmapSetID` | Целое число | Идентификатор сета карт |

## [Difficulty]

| Настройка | Тип данных | Описание |
| :-- | :-- | :-- |
| `HPDrainRate` | Вещественное число | Скорость уменьшения полоски жизни [HP](/wiki/Beatmapping/HP_drain_rate) (0–10) |
| `CircleSize` | Вещественное число | Размер нот [CS](/wiki/Beatmapping/Circle_size) (0–10) |
| `OverallDifficulty` | Вещественное число | Точность нажатия [OD](/wiki/Beatmapping/Overall_difficulty) (0–10) |
| `ApproachRate` | Вещественное число | Скорость появления объектов [AR](/wiki/Beatmapping/Approach_rate) (0–10) |
| `SliderMultiplier` | Вещественное число | Множитель скорости [слайдера](/wiki/Hit_object/Slider) в сотнях [пикселей](/wiki/osupixel) за один бит |
| `SliderTickRate` | Вещественное число | Множитель [тиков слайдера](/wiki/Beatmapping/Slider_tick) за один бит |

## [Events]

#### Общий синтаксис
`event_type,start_time,event_params`

| Настройка | Тип данных | Описание |
| :-- | :-- | :-- |
| `event_type` | Строка или Целое число | Тип события. Некоторые события могут быть указаны как строкой, так и целым числом (0-2) |
| `start_time` | Целое число | Время начала события в миллисекундах от начала звука карты. Для событий, не использующих этот параметр, по умолчанию используется значение `0` |
| `event_params` | Список значений, разделенных запятыми | Дополнительные параметры, специфичные для типа события |

### Фоновое изображение

#### Параметры
`event_type,start_time,filename,x_offset,y_offset`

| Настройка | Тип данных | Описание | Значение |
| :-- | :-- | :-- | :-- |
| `event_type` | Строка или Целое число |  Тип события | `0` постоянное |
| `start_time` | Целое число | Время появления изображения в миллисекундах от начала звука карты. | `0` по умолчанию |
| `filename` | Строка | Расположение фонового изображения относительно текущей папки. Обычно имя файла заключают в двойные кавычки, но это не обязательно | `bg.jpg` |
| `x_offset` | Целое число | Смещение по оси Х на указанное число пикселей от центра экрана | `50` |
| `y_offset` | Целое число | Смещение по оси Y на указанное число пикселей от центра экрана | `100` |

#### Примеры
`0,0,folder/bg.jpg`

`0,0,"super_bg.jpg",50,100`

#### Примечание
`x_offset`, `y_offset`
> Задаются в пикселях относительно центра экрана. Например, оффсет `50,100` сместит фоновое изображение на 50 пикселей вправо и 100 вниз от центра экрана. Если указаны значения по умолчанию `0,0`, оффсет можно не указывать.

### Видео

#### Параметры
`event_type,start_time,filename,x_offset,y_offset`

| Настройка | Тип данных | Описание | Значение |
| :-- | :-- | :-- | :-- |
| `event_type` | Строка или Целое число |  Тип события | `1` или `Video` постоянное |
| `start_time` | Целое число | Время начала видео в миллисекундах от начала звука карты. | `0` по умолчанию |
| `filename` | Строка | Расположение видео относительно текущей папки. Обычно имя файла заключают в двойные кавычки, но это не обязательно | `video.mp4` |
| `x_offset` | Целое число | Смещение по оси Х на указанное число пикселей от центра экрана | `50` |
| `y_offset` | Целое число | Смещение по оси Y на указанное число пикселей от центра экрана | `100` |

#### Примеры
`1,0,folder/video.mp4`

`Video,0,"super_video.mp4",50,100`

#### Примечание
`x_offset`, `y_offset`
> Задаются в пикселях относительно центра экрана. Например, оффсет `50,100` сместит фоновое видео на 50 пикселей вправо и 100 вниз от центра экрана. Если указаны значения по умолчанию `0,0`, оффсет можно не указывать.

### Пауза

#### Параметры
`event_type,start_time,end_time`

| Настройка | Тип данных | Описание | Значение |
| :-- | :-- | :-- | :-- |
| `event_type` | Строка или Целое число |  Тип события | `2` или `Break` постоянное |
| `start_time` | Целое число | Время начала паузы в миллисекундах от начала звука карты. | `750` |
| `end_time` | Целое число |  Время окончания паузы в миллисекундах от начала звука карты | `2250` |

#### Примеры
`2,1000,2500`

`Break,750,2250`

#### Примечание
`start_time` не должно превышать `end_time`.

### Сториборды

Со структурой данных сториборда можно ознакомиться в статье про [скриптинг сторибордов](/wiki/Storyboard/Scripting).

Сториборды могут быть определены в отдельном файле с расширением [`.osb`](/wiki/Client/File_formats/Osb_%28file_format%29). Внешние сториборды используются всеми сложностями из сета карт.

Каждая карта может содержать свою собственные сториборды для конкретной сложности, как в сочетании с внешними сторибордами, так и отдельно.

## [TimingPoints]

Каждая временная точка влияет на определенную часть карты, обычно называемую "временной секцией". Формат файла `.osu` требует, чтобы они были отсортированы в хронологическом порядке.

#### Параметры
`start_time,beat_length,meter,sample_set,sample_index,volume,uninherited,effects`

| Настройка | Тип данных | Описание | Значение |
| :-- | :-- | :-- | :-- |
| `start_time` | Целое число | Время начала временной секции в миллисекундах от начала звука карты | `12000` |
| `beat_length` | Вещественное число | Продолжительность удара в миллисекундах | `250` |
| `meter` | Целое число | Количество долей в такте | `4` |
| `sample_set` | Целое число | Указывает используемый набор хитсаундов (`0` - Default, `1` - Normal, `2`-Soft, `3`-Drum) | `1` |
| `sample_index` | Целое число | Указывает индекс используемого хитсаунда | `5` |
| `volume` | Целое число | Громкость хитсаунд на объектах | `70` |
| `uninherited` | 0 или 1 | Является ли временная секция наследуемой | `0` |
| `effects` | Целое число | Битовые флаги, придающие временной секции дополнительные эффекты. (`0`- Включен или нет режим [Кияй](/wiki/Gameplay/Kiai_time), `3`- Опущена ли первая тактовая черта в osu!taiko и osu!mania) | `1` |

#### Примеры
`10000,333.33,4,0,0,100,1,1`

`12000,250,4,3,0,70,0,1`

#### Примечание
Первая временная точка не наследуется

`start_time`
> Концом временной секции является время начала следующей временной точки. Eсли это последняя временная точка, времени окончания не существует.

`beat_length`
> Для унаследованных точек является обратным множителем скорости ползунка в процентах. Например, `-50` сделает все ползунки в этом разделе времени в два раза быстрее, чем `SliderMultiplier`. В примере 1 `333.33` означает `1 / 333.33 * 1000 * 60 = 180` BPM

`meter`
> Унаследованные временные точки игнорируют это свойство.

## [Colours]

Все параметры в этом разделе представляют цвета. Это разделенные запятыми триплеты целых чисел от 0 до 255, представляющие красный, зеленый и синий компоненты цветов соответственно.

#### Общий синтаксис
`colour_type : colour`

| Настройка | Тип данных | Описание |
| :-- | :-- | :-- |
| `colour_type` | Строка | Тип цвета |
| `colour` | Три целых числа, разделенных запятыми | Цвет из палитры RGB |

### Цвет комбо

#### Параметры
`Combo# : colour`

| Настройка | Тип данных | Описание | Значение |
| :-- | :-- | :-- | :-- |
| `Combo#`, где `#` - целое число | Строка | Цвет комбо | `Combo2` |
| `colour` | Три целых числа, разделенных запятыми | Цвет из палитры RGB | `64,128,128` |

#### Примеры
`Combo1 : 255,255,255`

`Combo2 : 64,128,128`

#### Примечание
Каждое целое число из `colour` должно входить в диапазон (0-255).

### Цвет тела слайдера

#### Параметры
`SliderTrackOverride : colour`

| Настройка | Тип данных | Описание | Значение |
| :-- | :-- | :-- | :-- |
| `colour` | Три целых числа, разделенных запятыми | Цвет из палитры RGB | `64,128,128` |

#### Примеры
`SliderTrackOverride : 255,255,255`

`SliderTrackOverride : 64,128,128`

#### Примечание
Каждое целое число из `colour` должно входить в диапазон (0-255).

### Цвет рамки слайдера

#### Параметры
`SliderBorder : colour`

| Настройка | Тип данных | Описание | Значение |
| :-- | :-- | :-- | :-- |
| `colour` | Три целых числа, разделенных запятыми | Цвет из палитры RGB | `64,128,128` |

#### Примеры
`SliderBorder : 255,255,255`

`SliderBorder : 64,128,128`

#### Примечание
Каждое целое число из `colour` должно входить в диапазон (0-255).

## [HitObjects]

#### Общий синтаксис
`x,y,start_time,object_type,hit_sound,object_params,hit_sample`

| Настройка | Тип данных | Описание |
| :-- | :-- | :-- |
| `x` | Целое число | Расположение объекта по оси Х в пикселях |
| `y` | Целое число | Расположение объекта по оси Y в пикселях |
| `start_time` | Целое число | Время появления объекта в миллисекундах от начала звука карты |
| `object_type` | Целое число | Битовые флаги, указывающие на тип объекта |
| `hit_sound` | Целое число | Битовые флаги, указывающие на звук хитсаунда, примененный к объекту |
| `object_params` | Список значений, разделенных запятыми | Дополнительные параметры, специфичные для типа объекта |
| `hit_sample` | Список значений, разделенных двоеточиями | Информация о том, какие хитсаунды воспроизводятся при попадании в объект |

#### Примечание
`object_type`
> Типы объектов хранятся в виде 8-битного целого числа, где каждый бит является флагом со специальным значением. Базовый тип объекта попадания задается битами 0, 1, 3 и 7 (от младшего к старшему):

> - 0: Круг
> - 1: Слайдер
> - 3: Спиннер
> - 7: Слайдер osu!mania

> Остальные биты используются для вспомогательной информации:

> - 2: Новое комбо
> - 4, 5, 6: Указывает сколько цветов комбо нужно пропустить, если этот объект начинает новое комбо (1, 2 или 3 соответственно).

> Например число `01000110` означает `Слайдер` + `Новое комбо` + `Пропуск 3-ех цветов комбо`. В сам объект записывается десятичная запись числа, в случае из примера запишем `70`.

`hit_sound`
> Типы объектов хранятся в виде 8-битного целого числа, где каждый бит является флагом со специальным значением. Поле указывает на звук, который необходимо проиграть при попадании в объект:

> - 0: Normal
- 1: Whistle
- 2: Finish
- 3: Clap

> Значение по-умолчанию `0`
> Во всех режимах, кроме osu!mania, свойство скина `LayeredHitSounds` заставляет включать `Normal` независимо от значения бита. Он включен по умолчанию.

`hit_sample`
> С помощью этого поля можно дополнительно настроить воспроизводимые звуки. По умолчанию используется `0:0:0:0:`, если не указано. Тесно связан с `hit_sound`
> Общий синтаксис
> `normal_set:addition_set:index:volume:filename`

> | Настройка | Тип данных | Описание |
> | :-- | :-- | :-- |
> | `normal_set` | Целое число | Набор обычных звуков |
> | `addition_set` | Целое число | Набор звуков `Whistle`, `Finish` и `Clap` |
> | `index` | Целое число | Индекс хитсаунда. Если указан `0`, будет использоваться индекс выборки временной точки |
> | `volume` | Целое число | Громкость звука. Если указан `0`, будет использоваться громкость временной точки (0-100) |
> | `filename` | Строка | Расположение звука относительно текущей папки. Обычно имя файла заключают в двойные кавычки, но это не обязательно |

> `normal_set` и `addition_set` может быть любой из следующих:

> - `0`: Нет пользовательского набора звуков.
   - Для обычных звуков набор определяется набором звуков временной точки.
   - Для дополнений набор определяется набором звуков
> - `1`: Normal
> - `2`: Soft
> - `3`: Drum

> Все параметры (кроме громкости) используются для определения того, какой звуковой файл воспроизводить для данного звука попадания в объект. Имя файла `<sample_set>-hit<hit_sound><index>.wav`, где:

> - `sample_set` – это `Normal`, `Soft` или `Drum`, определяемый либо `normal_set`, либо `addition_set` в зависимости от заданных значений.
> - `hit_sound` – это `Normal`, `Whistle`, `Finish` или `Clap`
> - `index` - это тот же индекс хитсаунда, что и выше, за исключением того, что он не указывается, если значение равно `0` или `1`

> Звуковой файл загружается из первого из следующих каталогов, содержащих совпадающее имя файла:

> - Карта, если `index` не `0`
> - Скин, если удален `index`
> - Ресурсы игры, если удален `index`

> Если указан путь `filename`, то дополнительные звуки воспроизводиться не будут, вместо этого будет воспроизводиться только этот файл.

### Круг

#### Параметры
`x,y,start_time,object_type,hit_sound,hit_sample`

| Настройка | Тип данных | Описание | Значение |
| :-- | :-- | :-- | :-- |
| `x` | Целое число | Расположение круга по оси Х в пикселях | `96` |
| `y` | Целое число | Расположение круга по оси Y в пикселях | `52` |
| `start_time` | Целое число | Время появления круга в миллисекундах от начала звука карты | `1279` |
| `object_type` | Целое число | Битовые флаги, указывающие на тип объекта | бит `0` = `1` постоянное |
| `hit_sound` | Целое число | Битовые флаги, указывающие на звук хитсаунда, примененный к объекту | `0` |
| `hit_sample` | Список значений, разделенных двоеточиями | Информация о том, какие хитсаунды воспроизводятся при попадании в объект | `0:0:0:0` по умолчанию |

#### Примеры
`104,59,35660,1,0,0:0:0:0:`

`96,52,1279,5,0,0:0:0:0:`

#### Примечание

### Слайдер

#### Параметры
`x,y,start_time,object_type,hit_sound,curve_type|curve_points,slides,length,edge_sounds,edge_sets,hit_sample`

| Настройка | Тип данных | Описание | Значение |
| :-- | :-- | :-- | :-- |
| `x` | Целое число | Расположение первой точки слайдера по оси Х в пикселях | `96` |
| `y` | Целое число | Расположение первой точки слайдера по оси Y в пикселях | `52` |
| `start_time` | Целое число | Время появления слайдера в миллисекундах от начала звука карты | `12600` |
| `object_type` | Целое число | Битовые флаги, указывающие на тип объекта | бит `1` = `1` постоянное |
| `hit_sound` | Целое число | Битовые флаги, указывающие на звук хитсаунда, примененный к объекту | `1` |
| `curve_type` | Символ | Тип кривой, используемой для построения слайдера (`B` = Безье, `C` = центростремительный сплайн Catmull–Rom, `L` = линейный, `P` = идеальный круг) | `B` |
| `curve_points` | Список значений, разделенных двоеточиями | Опорные точки, используемые для построения слайдера. Каждая точка находится в формате `x:y` | `200:200` |
| `slides` | Целое число | Сколько раз игрок должен провести слайдер. Если указано более `1`, слайдер является возвратным | `1` по умолчанию |
| `length` | Вещественное число | Визуальная длина в слайдера [пикселях](/wiki/osupixel) | `0` |
| `edge_sounds` | Список значений, разделенных двоеточиями | Хитсаунды, которые воспроизводятся при попадании на края кривой слайдера. Первый звук воспроизводится при первом нажатии на слайдер, а последний при нажатии на его окончание | `0` |
| `edge_sets` | Список значений, разделенных двоеточиями | Битовые флаги, указывающие на звук хитсаунда, примененный к объекту в формате `normalSet:additionSet` | `0:2` |
| `hit_sample` | Список значений, разделенных двоеточиями | Информация о том, какие хитсаунды воспроизводятся при попадании в объект | `0:0:0:0` по умолчанию |

#### Примеры
`23,256,2608,2,0,L|34:151,1,105.000004005432,8|2,0:0|0:0,0:0:0:0:`

`96,52,12600,6,1,B|200:200|250:200|250:200|300:150,2,310.123,2|1|2,0:0|0:0|0:2,0:0:0:0:`

#### Примечание
`curve_type`
> В игре есть четыре типа слайдера:

> - ** Безье (B):** [Кривые Безье](https://en.wikipedia.org/wiki/Bézier_curve) могут отображать любую форму. Несколько кривых Безье можно объединить в один ползунок, повторив их точки пересечения.
> - ** Центростремительный catmull-rom (C):** [Кривые Кэтмулла](https://en.wikipedia.org/wiki/Centripetal_Catmull-Rom_spline) являются интерполирующей альтернативой кривым Безье. Сегодня они редко используются из-за отсутствия визуальной привлекательности.
> - ** Линейный (L): ** Эти кривые образуют прямой путь между всеми их точками.
> - ** Идеальный круг (P): ** Кривые идеального круга ограничены тремя точками (включая положение объекта попадания), которые определяют границу круга. Использование более трех точек приведет к переключению типа кривой на безье.

`curve_points`
> Во втором примере слайдер типа кривой Безье является составным. Контрольными точками первой кривой являются (96,52), (200,200) и (250,200), а контрольными точками второй кривой являются (250,200) и (300,150). Дублированные контрольные точки обозначают [красную точку привязки](/wiki/Hit_object/Slider_anchor).

`length`
> Если длина слайдера больше заданной точками `curve_points` кривой, ползунок будет расширяться до тех пор, пока не достигнет целевой длины:

> - Для кривых Безье, Кэтмулла и линейных кривых она продолжается по прямой от конца кривой
> - Для идеальных кривых окружности он продолжает дугу окружности

> * Примечание: Длина слайдера может использоваться для определения времени, необходимого для завершения слайдера. `length / (SliderMultiplier * 100) * beat_length` указывает, сколько миллисекунд требуется для завершения одного слайда слайдера (при условии, что `beat_length` был скорректирован с учетом унаследованных временных точек).*

Помимо звуков начала и конца `edge_sounds`, слайдер издает зацикленный звуковой сигнал, пока игрок находится в пределах досягаемости круга следования ползунка.
Этот звук удара использует свойства объекта удара `hit_sound` и `hit_sample`, но поддерживаются только звуки `Normal` и `Whistle`. Его имя файла `<sample_set>-slider<hit_sound><index>.wav`, где `hit_sound` - это либо `slide` для обычного, либо `whistle` для свиста.

### Спиннер

#### Параметры
`x,y,start_time,object_type,hit_sound,end_time,hit_sample`

| Настройка | Тип данных | Описание | Значение |
| :-- | :-- | :-- | :-- |
| `x` | Целое число | Расположение спиннера по оси Х в пикселях | `0` не используется |
| `y` | Целое число | Расположение спиннера по оси Y в пикселях | `0` не используется |
| `start_time` | Целое число | Время появления спиннера в миллисекундах от начала звука карты | `1279` |
| `object_type` | Целое число | Битовые флаги, указывающие на тип объекта | бит `3` = `1` постоянное |
| `hit_sound` | Целое число | Битовые флаги, указывающие на звук хитсаунда, примененный к объекту | `0` |
| `end_time` | Целое число | Время окончания спиннера в миллисекундах от начала звука карты | `1279` |
| `hit_sample` | Список значений, разделенных двоеточиями | Информация о том, какие хитсаунды воспроизводятся при попадании в объект | `0:0:0:0` по умолчанию |

#### Примеры
`0,0,1250,8,0,3250,0:0:0:0:`

`0,0,2750,12,2,5000,0:0:0:0:`

#### Примечание
`start_time` не должно превышать `end_time`.

### Слайдер (osu!mania)

#### Параметры
`x,y,start_time,object_type,hit_sound,end_time:hit_sample`

| Настройка | Тип данных | Описание | Значение |
| :-- | :-- | :-- | :-- |
| `x` | Целое число | Расположение слайдера по оси Х в пикселях | `0` |
| `y` | Целое число | Расположение слайдера по оси Y в пикселях | `192` не используется |
| `start_time` | Целое число | Время появления слайдера в миллисекундах от начала звука карты | `1279` |
| `object_type` | Целое число | Битовые флаги, указывающие на тип объекта | бит `7` = `1` постоянное |
| `hit_sound` | Целое число | Битовые флаги, указывающие на звук хитсаунда, примененный к объекту | `0` |
| `end_time` | Целое число | Время окончания слайдера в миллисекундах от начала звука карты | `1279` |
| `hit_sample` | Список значений, разделенных двоеточиями | Информация о том, какие хитсаунды воспроизводятся при попадании в объект | `0:0:0:0` по умолчанию |

#### Примеры
`64,192,5891,128,8,7396:0:0:0:0:`

`448,192,1279,128,2,3937:0:0:0:0:`

#### Примечание
`x`
> определяет индекс столбца, в котором будет находиться слайдер. Он вычисляется по формуле `floor(x * column_count / 512)` и ограничивается диапазоном от `0` до `column_count - 1`.

`y`
> не влияет на слайдеры. По умолчанию он находится в центре игрового поля, `192`.

`start_time` не должно превышать `end_time`.

<!-- TODO: specific details about all of the other game modes (this article should provide everything necessary to parse a .osu file)

also there is no info about how they convert to other game modes from an osu! beatmap -->

### osu!taiko

Объекты попадания osu!taiko используют только `start_time`, чтобы определить местоположение нот на игровом поле, поэтому `x` и `y` игнорируются. Аналогично, единственной значимой частью кривых слайдера является `length`, `curve_type` и `curve_points` имеют значение только при открытии карты в редакторе. Комбинированные цвета и новые комбинации игнорируются, и используются хитсаунды, зависящие от режима.

- Круги с `Whistle` или `Clap` становятся "кэтами", другие круги становятся "донами". Добавление `Finish` дает дополнительные возможности.
- Слайдеры становятся барабанной дробью.
- Спиннеры становятся "денденом".

### osu!catch

Данный режим использует только ось `x`, поэтому `y` не имеет значения. Слайдеры могут использовать вертикальное пространство для достижения горизонтального ускорения, когда они сглажены до одномерного игрового поля.

- Круги становятся фруктами.
- Слайдеры превращаются в потоки сока с фруктами.
- Спиннеры становятся банановыми ливнями.

### osu!mania

Подобно osu!catch, объекты osu!maniaне используют `y`. `x` используется для определения столбца. Cм. раздел [Слайдер (osu!mania)](#слайдер-(osu!mania)).

- Круги становятся обычными заметками.
- Обычные слайдеры и спиннеры не используются.
